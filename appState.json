{"EDITOR_STATE":{"allProjectFiles":{"b82c10d7-edf0-45de-bf4e-cb215df486c0":{"id":"b82c10d7-edf0-45de-bf4e-cb215df486c0","parent":null,"name":"Building-serverless-SMS-sender-in-10-minutes","type":"DIRECTORY","isDirectory":true,"children":["82b5dfd4-5aa1-42cb-b5ec-826419db8482"],"isRemovable":false,"filePath":"Building-serverless-SMS-sender-in-10-minutes"},"82b5dfd4-5aa1-42cb-b5ec-826419db8482":{"id":"82b5dfd4-5aa1-42cb-b5ec-826419db8482","parent":"b82c10d7-edf0-45de-bf4e-cb215df486c0","name":"lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"Building-serverless-SMS-sender-in-10-minutes/lambda.js","code":"let AWS = require('aws-sdk');\nconst sns = new AWS.SNS();\n\nexports.handler = function (event, context, callback) {\n\n    let receiver = event['receiver'];\n    let sender = event['sender'];\n    let message = event['message'];\n\n    console.log(\"sending message\", message, \"to receiver\", receiver);\n    sns.publish({\n        Message: 'hi,how are you',\n        MessageAttributes: {\n            'AWS.SNS.SMS.SMSType': {\n                DataType: 'String',\n                StringValue: 'Promotional'\n            },\n            'AWS.SNS.SMS.SenderID': {\n                DataType: 'String',\n                StringValue: 'Z1UJRXOUMOOFQ8'\n            }\n        },\n        PhoneNumber: '+91728816344'\n    }).promise()\n        .then(data => {\n            // your code goes here\n            console.log(\"sent message to\", receiver);\n            callback(null, data);\n\n        })\n        .catch(err => {\n            // error handling goes here\n            console.log(\"sending failed\", err);\n            callback(err);\n        });\n\n    callback(null, 'Successfully executed');\n}","triggers":[{"resourceName":"apigusEast1SMSGatewaysendSMSpost","config":{}}],"config":{"memory":128,"timeout":60,"runtime":"nodejs8.10"}}},"deletedFiles":[],"rootNode":"b82c10d7-edf0-45de-bf4e-cb215df486c0","openFiles":["82b5dfd4-5aa1-42cb-b5ec-826419db8482"],"currentFileId":"82b5dfd4-5aa1-42cb-b5ec-826419db8482","resources":{"apigusEast1SMSGatewaysendSMSpost":{"name":"apigusEast1SMSGatewaysendSMSpost","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":0,"apiName":"SMSGateway","endpointType":"EDGE","resourceMode":0,"resourceName":"sendSMS","resourcePath":"/sendSMS","restMethod":"POST","proxyIntegration":false,"enableCORS":false,"stageMode":0,"stageName":"prod"},"globallyEditable":true},"snsDirectSMSResource":{"name":"snsDirectSMSResource","type":"SNS","config":{"snsType":1,"numbers":["@{receiver}","+91728816344"]},"globallyEditable":false}},"envVariables":[{"lambdaId":"all","varKey":"SIGMA_AWS_ACC_ID","varValue":null,"shouldPersist":false,"displayOnly":false,"editable":false}],"packageJSON":{"dependencies":{"aws-sdk":{"name":"aws-sdk","version":"2.176.0","notRemovable":true}}},"lambdaId":"82b5dfd4-5aa1-42cb-b5ec-826419db8482"},"PROJECT_META":{"projectName":"Building-serverless-SMS-sender-in-10-minutes","projectDescription":"","projectVersion":"1.0.0","projectRegion":"us-east-1","lastSave":1540533884027},"VCS_STATE":{"provider":"GitHub","repo":{"name":"Building-serverless-SMS-sender-in-10-minutes","url":"https://github.com/KMKUMAR225/Building-serverless-SMS-sender-in-10-minutes"}}}